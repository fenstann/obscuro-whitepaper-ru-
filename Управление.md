# Управление
Управление в протоколе Obscuro, с эталонной реализацией и конфигурацией сети, будет явным и видимым для всех. Концепция управления в Obscuro основана на опыте Bitcoin и Ethereum.

Существует несколько типов контроля, осуществляемого в децентрализованной системе:
1. Явный контроль, осуществляемый группой людей с помощью прямой подписи или голосования.
2. Неявный контроль, реализованный в неизменяемом протоколе.
3. Неявный контроль, реализованный в протоколе, который сам представлен в виде кодовой базой с открытым исходным кодом, и является изменяемым.

Обратите внимание, что почти ничто не является действительно неизменяемым, потому что кодовая база или даже аппаратура, работающая даже в самом неизменяемом протоколн, может изменить его поведение, или он может быть изменен вовсе. Теоретически, действительно неизменяемая система может быть достигнута с помощью различных хэш-ограничений в TEEs; однако возможность обновления является более желательным результатом. В конечном итоге, для всех остальных случаев, где-то существует очевидный процесс управления.

Например, майнеры Биткойна обладают определенной властью для определения правил, выбирая, какую версию основного кода установить и с помощью какой версии производить блоки. Если возникают разногласия, происходит форк, и сообщество пользователей в конечном итоге решает, какую ценность присвоить каждому форку. Это является проблемой только в том случае, если конкурирующие форки имеют одинаковую мощность добычи и, следовательно, безопасность. Для ежедневных обновлений майнеры де-факто имеют право принимать решения, но в случае разногласий, пользователи имеют окончательную власть через свободные рынки. 
В настоящее время это золотой стандарт децентрализованного управления, имеющий свои преимущества и недостатки.

Все становится еще сложнее в таких сетях, как Ethereum, с возможностями смарт-контрактов. С одной стороны, как и в случае с Bitcoin, конечные пользователи решают, какие майнеры выбрали верную версию. С другой стороны, приложения, работающие поверх Ethereum, имеют свои требования к управлению. На первых порах The DAO относилась ко второй категории: _Косвенное управление, реализованное в неизменяемом протоколе_, но оно эксплуатировалось, и при решении этой проблемы путем форка Ethereum и косвенного создания Ethereum Classic стало очевидно, что за неизменяемым протоколом на самом деле скрывается изменяемая кодовая база (сама кодовая база Ethereum). Также стало очевидно, что пользователи обладают абсолютной властью, поскольку они косвенно проголосовали своими кошельками за предпочтительный подход к обработке этого хакерства, и Ethereum Classic получил гораздо меньшее распространение, чем модифицированный Ethereum.

После этого тяжелого урока большинство смарт-контрактов Ethereum имеют компонентные контракты, которые могут быть обновлены в рамках явного процесса управления, поскольку вряд ли сообщество снова предоставит разработчикам приложений карты "освобождения из тюрьмы". Иногда управление затуманено, но в целом, если контракт можно _обновить_, значит, кто-то за него отвечает.

Ключевое различие между золотым стандартом Биткойна и типичным управлением смарт-контрактами заключается в том, что конечные пользователи больше не имеют права выбирать, какой "форк смарт-контракта" им предпочесть. Используя оригинальный смарт-контракт и добавляя к нему определенную ценность, они оказываются во власти управляющих приложений.

Поскольку протокол Obscuro закреплен в Ethereum в качестве смарт-контракта, он не может полагаться на то, что конечные пользователи Obscuro обладают конечной властью. Следующее, что можно сделать, - это четко описать все элементы управления системы и добиться разделения для принятия решений (которые могут быть переданы держателям токенов и сформулированы в спецификации управления в виде предложений) и исполнения (которое зависит от отдельных лиц, нажимающих кнопки).

## Виды контроля в Obscuro
Исходя из вышесказанного, в Obscuro осуществляются следующие виды контроля.

###  1. The TEE Attestation Constraints.
_Аттестационные ограничения_ (АО) контролируют, какое программное обеспечение разрешено запускать внутри TEE и может обрабатывать пользовательские транзакции и создавать роллапы. Группа, независимых, авторитетных и компетентных аудиторов безопасности, должна проанализировать код и одобрить его, тщательно изучив. Ограничения содержат ключи от _одобренных аудиторов_.

Стороны, обладающие полномочиями устанавливать АО и, таким образом, назначать аудиторов, в конечном итоге контролируют программное обеспечение.

Эта проблема не совсем отличается от проблемы аудиторов безопасности смарт-контрактов, за исключением того, что обычно пользователи решают, каким аудиторам они доверяют, используя или не используя данные контракты.

###  2. Администрирование управляющих контрактов на Ethereum.
Как и большинство других приложений на Ethereum, эти контракты будут иметь обновляемые части для устранения ошибок и создания новых функций. Все обновляемые части означают, что _администраторы_ имеют полный контроль над этими аспектами.
1. Логика моста
2. Логика роллапа
3. Логика проверки

В приведенном выше примере, аудиторы представляют собой фиксированный список. Однако это может оказаться непрактичным, поскольку компании могут появляться или исчезать. Список утвержденных аудиторов должен управляться сообществом с помощью процесса предложения, а в последствии голосования, без необходимости вмешательства разработчиков. Если капать еще глубже, то код, управляющий этим процессом, должен быть обновляемым, чтобы кто-то в конечном итоге контролировал его.

###  Создание роллапов
Другой силой, эквивалентной стейкерам или майнерам на L1, обладают Агрегаторы Obscuro. Они используют сертифицированное программное и аппаратное обеспечение и платят за него.

У них есть право вносить дополнения в распределенный реестр на L2, но у них нет права выбирать конкурирующее программное обеспечение и таким образом создавать форки.

###  4. Основная Цепь Роллапов 
В типичном на L1, основная цепь в конечном итоге определяется пользователями одного из конкурирующих форков, поскольку распределенный реестр в конечном итоге связан со стоимостью монеты.

В Obscuro, агрегаторы, должны запускать сертифицированное программное обеспечение, что ограничивает свободу их воли, если только они не могут взломать технологию TEE.

Согласно внедренным правилам, действующий TEE не подписывает роллап, построенный поверх цепи, которая не является канонической, поэтому любой взлом сразу же становится заметным.

Дополнительную сложность представляет процесс вывода средств, который зависит от гарантированной окончательности канонической цепи.

###  Снижение стека  у недобросовестных участников
Агрегаторы, которые взламывают клюс анклава и пытаются нарушить целостность распределенного реестра, обнаруживаются протоколом и наказываются с помощью слэшинга, чтобы в дальнейшем не стимулировалось такое поведение.

Слэшинг - это негласный процесс, осуществляемый Управляющим Контрактом на основе заранее определенных правил. Однако, в конечном счете, он сам контролируется управляющим кодом.

###  6. Ожидаемые ежемесячные эксплуатационные расходы для Нод
Obscuro имеет структуру комиссионных, которая обеспечивает предсказуемый доход для операторов нод и предсказуемые комиссионные для пользователей. Для того чтобы вывести комиссионные, которые в достаточной степени компенсируют ноды, необходимо установить значение, которое представляет собой ежемесячные эксплуатационные расходы для каждой ноды. 
Эта переменная также способна увеличивать или уменьшать спрос на эксплуатацию ноды, обеспечивая баланс между децентрализацией и затратами конечного пользователя.
